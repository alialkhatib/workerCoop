<ion-view title='Home Estimate'>
  <ion-nav-bar class="bar bar-energized">
    <ion-nav-back-button class="button-clear">
      <i class="ion-arrow-left-c"></i> Back
    </ion-nav-back-button>
  </ion-nav-bar>
  <ion-content has-header="true" padding="true">
    <div class="page-header">
      <h1>Tell us about your home</h1>
      <h2>We'll estimate your cost based on the size of your home.</h2>
    </div>

    <div class='list'>
      <label class="item item-input">
        <input type="text" placeholder="address" ng-model="house.address">
      </label>
      <div ng-repeat="(name,info) in house.rooms" ng-init='info.count=0'>
        <div class="row item item-input">
          <div class="col">{{info.count}} {{name}}</div>
          <span>
            <button class="button button-clear button-assertive"
                    ng-disabled="info.count==0"
                    ng-click="info.count=info.count-1">
              <i class="icon ion-minus-circled"></i>
            </button>
          </span>
          <span>
            <button class="button button-clear button-positive"
                    ng-click="info.count=info.count+1">
              <i class="icon ion-plus-circled"></i>
            </button>
          </span>
        </div>
      </div>
    </div>
  </ion-content>
  <button
    ng-init='first_time=true'
    ng-disabled="house.address.length==0"
    ng-click="user.add_home(house)"
    class='bar bar-footer bar-positive button-full button-large'>Add Home</button>
</ion-view>
